# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth –¥–ª—è Supabase

## üîß **–ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ Google OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)**
2. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" ‚Üí "Credentials"**
4. **–ù–∞–∂–º–∏—Ç–µ "Create Credentials" ‚Üí "OAuth 2.0 Client IDs"**
5. **–í—ã–±–µ—Ä–∏—Ç–µ "Web application"**
6. **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:**
   - **Name:** Smarto OAuth
   - **Authorized JavaScript origins:**
     ```
     https://smarto-one.vercel.app
     http://localhost:3000
     ```
   - **Authorized redirect URIs:**
     ```
     https://qutfumioleqbmjojrpzf.supabase.co/auth/v1/callback
     ```
7. **–ù–∞–∂–º–∏—Ç–µ "Create"**
8. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID –∏ Client Secret**

### **2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ Supabase Dashboard:**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Supabase Dashboard ‚Üí Authentication ‚Üí Providers**
2. **–ù–∞–π–¥–∏—Ç–µ Google –∏ –Ω–∞–∂–º–∏—Ç–µ "Enable"**
3. **–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:**
   - **Client ID:** –≤–∞—à Google Client ID
   - **Client Secret:** –≤–∞—à Google Client Secret
4. **–ù–∞–∂–º–∏—Ç–µ "Save"**

### **3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ URL –≤ Supabase:**

**Authentication ‚Üí URL Configuration:**
```
Site URL: https://smarto-one.vercel.app
Redirect URLs: 
- https://smarto-one.vercel.app/auth/callback
- https://smarto-one.vercel.app/account
- http://localhost:3000/auth/callback
- http://localhost:3000/account
```

## üéØ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**

### **–î–æ–±–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**

1. **–ö–Ω–æ–ø–∫–∞ "Conectare cu Google"** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/login`
2. **Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –º–æ–±–∏–ª—å–Ω–æ–º –º–µ–Ω—é**
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –∏–∑ Google (–∏–º—è, email, —Ñ–æ—Ç–æ)

### **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Conectare cu Google"**
2. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Google**
3. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ `/account`**
4. **–°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `users`** (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–æ–≤—ã–π)
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—Ö–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º—É**

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

### **–ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º –æ—Ç Google:**
- **Email** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- **–ò–º—è** (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª)
- **–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è** (–µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑—Ä–µ—à–∏–ª)
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### **RLS –ø–æ–ª–∏—Ç–∏–∫–∏:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. **–î–æ–±–∞–≤—å—Ç–µ `http://localhost:3000` –≤ Google OAuth origins**
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm run dev`**
3. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/login`**
4. **–ù–∞–∂–º–∏—Ç–µ "Conectare cu Google"**

### **Production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ environment variables –≤ Vercel**
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö**

## üö® **–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### **1. "Invalid redirect URI"**
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ redirect URI –≤ Google Console —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Supabase URL.

### **2. "Client ID not found"**
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Client ID –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –≤ Supabase Dashboard.

### **3. "OAuth consent screen not configured"**
**–†–µ—à–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π—Ç–µ OAuth consent screen –≤ Google Cloud Console.

### **4. "Redirect URI mismatch"**
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ redirect URIs –≤ Google Console.

## üìã **–ß–µ–∫-–ª–∏—Å—Ç:**

- [ ] –°–æ–∑–¥–∞–Ω –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω OAuth 2.0 Client ID
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ redirect URIs
- [ ] –í–∫–ª—é—á–µ–Ω Google provider –≤ Supabase
- [ ] –í–≤–µ–¥–µ–Ω—ã Client ID –∏ Client Secret
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã URL –≤ Supabase Authentication
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ production 